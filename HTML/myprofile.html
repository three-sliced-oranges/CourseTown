<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="../CSS/style.css"/>
	</head>
	<body>

		<ul id="navbar">
			<li id="navbarlist"><a href="contact.html">Contact</a> </li>
			<li id="navbarlist"><a href="Matches.html">Matches</a> </li>
			<li id="navbarlist"><a href="explore.html">Explore</a> </li>
			<li id="navbarlist"><a href="myprofile.html">My Profile</a> </li>
			<li id="navbarlist"><a href="about.html">About</a> </li>
			<li id="navbarlist"><a href="home.html">Home</a> </li>
		</ul>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<div align="center">
			<table width =1200>
				<tr align = "center">
					<th><h1>Personal</h1></th>
					<th><h1>Your Schedule </h1></th>
					<th><h1>Offered</h1></th>
					<th><h1>Desired</h1></th>
				</tr>
				<tr align = "center">
					<td rowspan="2"> 
						<form> 
							<p> Full Name: <input type="text" size="15" id = "name"> </p>
							<button onclick="remove()">Delete User</button>
						</form>
						
					</td>
					<td> 
						<form> 
							<p> <input type = "text" size = "15" placeholder = "Period 1" id ="p1s"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 2" id ="p2s"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 3" id ="p3s"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 4" id ="p4s"> </p>
							
						</form>
					</td>
					<td>
						<form> 
							<p> <input type = "text" size = "15" placeholder = "Period 1" id ="p1o"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 2" id ="p2o"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 3" id ="p3o"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 4" id ="p4o"> </p>
							
						</form>
					</td>
					<td>
						<form> 
							<p> <input type = "text" size = "15" placeholder = "Period 1" id ="p1d"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 2" id ="p2d"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 3" id ="p3d"> </p>
							<p> <input type = "text" size = "15" placeholder = "Period 4" id ="p4d"> </p>
						</form>
					</td>
				</tr>
				<tr align = "center">
					<td>
						<br>
						<button onclick="submitSchedule()">Submit</button>
						<p> Please fill in according to your day 1 schedule. </p>
					</td>
					<td colspan = "2">
						<br>
						<button onclick="submitOffer()">Submit</button>
						<p> You must offer and desire a course for the same period. </p>
					</td>
				</tr>
			</table> 	
		</div>
		<script src="https://www.gstatic.com/firebasejs/5.10.1/firebase.js"></script>
		<script>
		  // Initialize Firebase
		  var config = {
		    apiKey: "AIzaSyAt_-_1I9ISW4PmF1DgW_03wO9PLdJ10uE",
		    authDomain: "coursetown-cfe36.firebaseapp.com",
		    databaseURL: "https://coursetown-cfe36.firebaseio.com",
		    projectId: "coursetown-cfe36",
		    storageBucket: "coursetown-cfe36.appspot.com",
		    messagingSenderId: "141311531998"
		  };
		  firebase.initializeApp(config);

		  function remove() {
		  	var name = document.getElementById("name").value;
		  	if (name != "") {
			  	firebase.database().ref("Students/" + name).remove();
				alert("User has been deleted.");
		  	}
		  	else {
		  		alert("Please enter your full name.");
		  	}
		  }

		  function submitSchedule() {
		  	var name = document.getElementById("name").value;
		  	var usersRef = firebase.database().ref("Students/" + name);
		  	if (name != "") {
			  	usersRef.child("Schedule").set({
			  		Period_1: document.getElementById("p1s").value,
			  		Period_2: document.getElementById("p2s").value,
			  		Period_3: document.getElementById("p3s").value,
			  		Period_4: document.getElementById("p4s").value
			  	})
			  	alert("Submission complete.");
		  	}
		  	else {
			 	alert("Please enter your full name.");
			 }	
		  }

		  function submitOffer() {
		  	var name = document.getElementById("name").value;
		  	var usersRef = firebase.database().ref("Students/" + name);
		  	if (name != "") {
			  	usersRef.child("Offered").set({
			  		Period_1: document.getElementById("p1o").value,
			  		Period_2: document.getElementById("p2o").value,
			  		Period_3: document.getElementById("p3o").value,
			  		Period_4: document.getElementById("p4o").value
			  	})
			  	usersRef.child("Desired").set({
			  		Period_1: document.getElementById("p1d").value,
			  		Period_2: document.getElementById("p2d").value,
			  		Period_3: document.getElementById("p3d").value,
			  		Period_4: document.getElementById("p4d").value
			  	})
			  	alert("Submission complete.");
			 }
			 else {
			 	alert("Please enter your full name.");
			 }
		  }
		  </script>
	</body>
</html>